{"version":3,"file":"pie-chart-mixin.js","sources":["pie-chart-mixin.js"],"sourcesContent":["import { TemplateService } from '../../services';\n\nconst PieChartMixin = {\n    createLegendItem: function(value, point, options) {\n        const legendOptions = this.options.legend || {};\n        const labelsOptions = legendOptions.labels || {};\n        const inactiveItems = legendOptions.inactiveItems || {};\n        const inactiveItemsLabels = inactiveItems.labels || {};\n\n        if (options && options.visibleInLegend !== false) {\n            const pointVisible = options.visible !== false;\n            const labelTemplate = pointVisible ? labelsOptions.template :\n                (inactiveItemsLabels.template || labelsOptions.template);\n            let text = options.category || \"\";\n\n            if (labelTemplate) {\n                text = TemplateService.compile(labelTemplate)({\n                    text: text,\n                    series: options.series,\n                    dataItem: options.dataItem,\n                    percentage: options.percentage,\n                    value: value\n                });\n            }\n\n            let itemLabelOptions, markerColor;\n            if (pointVisible) {\n                itemLabelOptions = {};\n                markerColor = point.color;\n            } else {\n                itemLabelOptions = {\n                    color: inactiveItemsLabels.color,\n                    font: inactiveItemsLabels.font\n                };\n                markerColor = (inactiveItems.markers || {}).color;\n            }\n\n            if (text) {\n                this.legendItems.push({\n                    pointIndex: options.index,\n                    text: text,\n                    series: options.series,\n                    markerColor: markerColor,\n                    labels: itemLabelOptions\n                });\n            }\n        }\n    }\n};\n\nexport default PieChartMixin;"],"names":["const","let"],"mappings":"AAAA,SAAS,eAAe,QAAQ,gBAAgB,CAAC;;AAEjDA,GAAK,CAAC,aAAa,GAAG;IAClB,gBAAgB,EAAE,SAAS,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE;QAC9CA,GAAK,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,EAAE,CAAC;QAChDA,GAAK,CAAC,aAAa,GAAG,aAAa,CAAC,MAAM,IAAI,EAAE,CAAC;QACjDA,GAAK,CAAC,aAAa,GAAG,aAAa,CAAC,aAAa,IAAI,EAAE,CAAC;QACxDA,GAAK,CAAC,mBAAmB,GAAG,aAAa,CAAC,MAAM,IAAI,EAAE,CAAC;;QAEvD,IAAI,OAAO,IAAI,OAAO,CAAC,eAAe,KAAK,KAAK,EAAE;YAC9CA,GAAK,CAAC,YAAY,GAAG,OAAO,CAAC,OAAO,KAAK,KAAK,CAAC;YAC/CA,GAAK,CAAC,aAAa,GAAG,YAAY,GAAG,aAAa,CAAC,QAAQ;gBACvD,CAAC,mBAAmB,CAAC,QAAQ,IAAI,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC7DC,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC,QAAQ,IAAI,EAAE,CAAC;;YAElC,IAAI,aAAa,EAAE;gBACf,IAAI,GAAG,eAAe,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;oBAC1C,IAAI,EAAE,IAAI;oBACV,MAAM,EAAE,OAAO,CAAC,MAAM;oBACtB,QAAQ,EAAE,OAAO,CAAC,QAAQ;oBAC1B,UAAU,EAAE,OAAO,CAAC,UAAU;oBAC9B,KAAK,EAAE,KAAK;iBACf,CAAC,CAAC;aACN;;YAEDA,GAAG,CAAC,gBAAgB,EAAE,WAAW,CAAC;YAClC,IAAI,YAAY,EAAE;gBACd,gBAAgB,GAAG,EAAE,CAAC;gBACtB,WAAW,GAAG,KAAK,CAAC,KAAK,CAAC;aAC7B,MAAM;gBACH,gBAAgB,GAAG;oBACf,KAAK,EAAE,mBAAmB,CAAC,KAAK;oBAChC,IAAI,EAAE,mBAAmB,CAAC,IAAI;iBACjC,CAAC;gBACF,WAAW,GAAG,CAAC,aAAa,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC;aACrD;;YAED,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;oBAClB,UAAU,EAAE,OAAO,CAAC,KAAK;oBACzB,IAAI,EAAE,IAAI;oBACV,MAAM,EAAE,OAAO,CAAC,MAAM;oBACtB,WAAW,EAAE,WAAW;oBACxB,MAAM,EAAE,gBAAgB;iBAC3B,CAAC,CAAC;aACN;SACJ;KACJ;CACJ,CAAC;;AAEF,eAAe,aAAa"}